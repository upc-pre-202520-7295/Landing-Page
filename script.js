// ==========================================
// INTERNATIONALIZATION (i18n) SYSTEM
// ==========================================

const translations = {
    en: {
        meta: {
            title: "Betalyze - Smart Sports Predictions",
            description: "Accurate sports predictions using machine learning. Get intelligent analysis for football odds with 95% accuracy."
        },
        a11y: {
            skipToMain: "Skip to main content"
        },
        hero: {
            badge: "âš¡ Powered by Machine Learning",
            title1: "Smart",
            title2: "Sports",
            title3: "Predictions",
            description: "Get accurate predictions for football odds using advanced machine learning algorithms. Make smarter decisions.",
            btn1: "Download App",
            btn2: "Try Web Version",
            stat1: "Accuracy",
            stat2: "Users",
            stat3: "Available"
        },
        benefits: {
            heading: "Why choose our predictions?",
            subheading: "Combines the power of machine learning with years of experience in sports analysis to offer you the best predictions on the market.",
            card1: {
                title: "Advanced Characteristics",
                desc: "Machine learning algorithms trained with historical data for accurate predictions."
            },
            card2: {
                title: "High Accuracy",
                desc: "Our model achieves high accuracy in football odds predictions."
            },
            card3: {
                title: "Speed",
                desc: "Fast analysis and predictions for every match."
            },
            card4: {
                title: "Reliable and Secure",
                desc: "Secure platform with encrypted data and backed by thousands of satisfied users."
            },
            card5: {
                title: "Deep Analysis",
                desc: "Detailed statistics, historical trends and key factors that influence each prediction."
            },
            card6: {
                title: "Active Community",
                desc: "Join over 50,000 users who trust our sports predictions."
            }
        },
        how: {
            heading: "How does it work?",
            subheading: "A simple and effective process to access high-quality sports predictions",
            step1: {
                title: "Select the Match",
                desc: "Search and select the football match you are interested in from our extensive database."
            },
            step2: {
                title: "Check Predictions",
                desc: "Our algorithm analyzes historical data, statistics and key factors to generate accurate predictions."
            },
            step3: {
                title: "Make Your Decision",
                desc: "Use our AI-backed predictions to make more informed and strategic decisions."
            },
            cta: {
                title: "Ready to start?",
                desc: "Join thousands of users who already trust our predictions to make better sports decisions.",
                btn: "Try the app"
            }
        },
        about: {
            heading: "About the product",
            subheading: "Introduction and description of our business model and the main features of our products",
            learn: "Learn more"
        },
        screenshots: {
            heading: "Simple and powerful interface",
            subheading: "Designed for usability. Access complex predictions through an intuitive interface on both mobile and web.",
            mobile: {
                title: "Mobile App",
                subtitle: "Available for iOS and Android",
                img1: "Value Bets",
                img2: "Favorite Teams",
                feature1: "Intuitive and fast navigation",
                feature2: "Real-time notifications",
                feature3: "Offline mode available"
            },
            web: {
                title: "Web Dashboard",
                subtitle: "Complete analysis in your browser",
                img: "Complete dashboard view",
                features: "Web features:",
                feature1: "Interactive elements",
                feature2: "Advanced filters",
                feature3: "Accessible data",
                compatibility: "Compatibility:",
                compat1: "All browsers",
                compat2: "Responsive design",
                compat3: "No installation"
            }
        },
        cta: {
            rating: "4.9/5 in app stores",
            title1: "Start winning with",
            title2: "smart predictions",
            description: "Join over 50,000 users who trust our AI-powered sports prediction system. Available now on mobile and web.",
            btn1: "Download Free App",
            btn2: "Access the Web",
            feature1: {
                number: "Free",
                title: "No initial cost",
                subtitle: "Start risk-free"
            },
            feature2: {
                title: "Always available",
                subtitle: "Unlimited access"
            },
            feature3: {
                title: "Proven accuracy",
                subtitle: "Real results"
            },
            trust1: "Ad-free",
            trust2: "Secure data",
            trust3: "Updated daily"
        },
        footer: {
            brand: "Smart sports predictions powered by machine learning to help you make better decisions.",
            made: "Made with",
            fans: "for football fans",
            product: {
                heading: "Product",
                link1: "Download App",
                link2: "Web Version",
                link3: "API for developers",
                link4: "Plans and pricing"
            },
            support: {
                heading: "Support",
                link1: "Help center",
                link2: "Contact",
                link3: "Frequently asked questions",
                link4: "Service status"
            },
            legal: {
                heading: "Legal",
                link1: "Terms of service",
                link2: "Privacy policy",
                link3: "Cookie policy",
                link4: "Legal notice"
            },
            copyright: "Â© 2025 BestWin. All rights reserved.",
            status: "Service active",
            disclaimer: {
                title: "Important notice:",
                text: "Sports predictions are estimates based on statistical analysis and machine learning. We do not guarantee results and recommend using this information responsibly. Responsible gaming is essential."
            }
        }
    },
    es: {
        meta: {
            title: "Betalyze - Predicciones Deportivas Inteligentes",
            description: "Predicciones deportivas precisas usando machine learning. ObtÃ©n anÃ¡lisis inteligentes para cuotas de fÃºtbol con 95% de precisiÃ³n."
        },
        a11y: {
            skipToMain: "Saltar al contenido principal"
        },
        hero: {
            badge: "âš¡ Powered by Machine Learning",
            title1: "Predicciones",
            title2: "Deportivas",
            title3: "Inteligentes",
            description: "ObtÃ©n predicciones precisas sobre cuotas de fÃºtbol utilizando algoritmos avanzados de machine learning. Toma decisiones mÃ¡s inteligentes.",
            btn1: "Descargar App",
            btn2: "Probar versiÃ³n Web",
            stat1: "PrecisiÃ³n",
            stat2: "Usuarios",
            stat3: "Disponible"
        },
        benefits: {
            heading: "Â¿Por quÃ© elegir nuestras predicciones?",
            subheading: "Combina la potencia del machine learning con aÃ±os de experiencia en anÃ¡lisis deportivo para ofrecerte las mejores predicciones del mercado.",
            card1: {
                title: "CaracterÃ­sticas Avanzadas",
                desc: "Algoritmos de aprendizaje automÃ¡tico entrenados con datos histÃ³ricos para realizar predicciones precisas."
            },
            card2: {
                title: "Alta PrecisiÃ³n",
                desc: "Nuestro modelo alcanza bastante precisiÃ³n en predicciones de cuotas de fÃºtbol."
            },
            card3: {
                title: "Velocidad",
                desc: "AnÃ¡lisis y predicciones rÃ¡pidas para cada partido."
            },
            card4: {
                title: "Confiable y Seguro",
                desc: "Plataforma segura con datos encriptados y respaldo de miles de usuarios satisfechos."
            },
            card5: {
                title: "AnÃ¡lisis Profundo",
                desc: "EstadÃ­sticas detalladas, tendencias histÃ³ricas y factores clave que influyen en cada predicciÃ³n."
            },
            card6: {
                title: "Comunidad Activa",
                desc: "Ãšnete a mÃ¡s de 50,000 usuarios que confÃ­an en nuestras predicciones deportivas."
            }
        },
        how: {
            heading: "Â¿CÃ³mo funciona?",
            subheading: "Un proceso simple y efectivo para acceder a predicciones deportivas de alta calidad",
            step1: {
                title: "Selecciona el Partido",
                desc: "Busca y selecciona el partido de fÃºtbol que te interesa de nuestra amplia base de datos."
            },
            step2: {
                title: "Consulta Predicciones",
                desc: "Nuestro algoritmo analiza datos histÃ³ricos, estadÃ­sticas y factores clave para generar predicciones precisas."
            },
            step3: {
                title: "Toma tu DecisiÃ³n",
                desc: "Utiliza nuestras predicciones respaldadas por IA para tomar decisiones mÃ¡s informadas y estratÃ©gicas."
            },
            cta: {
                title: "Â¿Listo para empezar?",
                desc: "Ãšnete a miles de usuarios que ya confÃ­an en nuestras predicciones para tomar mejores decisiones deportivas.",
                btn: "Prueba la aplicaciÃ³n"
            }
        },
        about: {
            heading: "Sobre el producto",
            subheading: "IntroducciÃ³n y descripciÃ³n de nuestro modelo de negocio y las caracterÃ­sticas principales de nuestros productos",
            learn: "Conoce mÃ¡s"
        },
        screenshots: {
            heading: "Interfaz simple y poderosa",
            subheading: "DiseÃ±ada para la usabilidad. Accede a predicciones complejas a travÃ©s de una interfaz intuitiva tanto en mÃ³vil como en web.",
            mobile: {
                title: "AplicaciÃ³n MÃ³vil",
                subtitle: "Disponible para iOS y Android",
                img1: "Apuestas de valor",
                img2: "Equipos Favoritos",
                feature1: "NavegaciÃ³n intuitiva y rÃ¡pida",
                feature2: "Notificaciones en tiempo real",
                feature3: "Modo offline disponible"
            },
            web: {
                title: "Dashboard Web",
                subtitle: "AnÃ¡lisis completo en tu navegador",
                img: "Vista completa del dashboard",
                features: "CaracterÃ­sticas web:",
                feature1: "Elementos interactivos",
                feature2: "Filtros avanzados",
                feature3: "Datos accesibles",
                compatibility: "Compatibilidad:",
                compat1: "Todos los navegadores",
                compat2: "Responsive design",
                compat3: "Sin instalaciÃ³n"
            }
        },
        cta: {
            rating: "4.9/5 en las tiendas de apps",
            title1: "Empieza a ganar con",
            title2: "predicciones inteligentes",
            description: "Ãšnete a mÃ¡s de 50,000 usuarios que confÃ­an en nuestro sistema de predicciones deportivas impulsado por IA. Disponible ahora en mÃ³vil y web.",
            btn1: "Descargar App Gratis",
            btn2: "Acceder a la Web",
            feature1: {
                number: "Gratis",
                title: "Sin costo inicial",
                subtitle: "Comienza sin riesgo"
            },
            feature2: {
                title: "Disponible siempre",
                subtitle: "Acceso ilimitado"
            },
            feature3: {
                title: "PrecisiÃ³n comprobada",
                subtitle: "Resultados reales"
            },
            trust1: "Sin publicidad",
            trust2: "Datos seguros",
            trust3: "Actualizado diariamente"
        },
        footer: {
            brand: "Predicciones deportivas inteligentes impulsadas por machine learning para ayudarte a tomar mejores decisiones.",
            made: "Hecho con",
            fans: "para los fanÃ¡ticos del fÃºtbol",
            product: {
                heading: "Producto",
                link1: "Descargar App",
                link2: "VersiÃ³n Web",
                link3: "API para desarrolladores",
                link4: "Planes y precios"
            },
            support: {
                heading: "Soporte",
                link1: "Centro de ayuda",
                link2: "Contacto",
                link3: "Preguntas frecuentes",
                link4: "Estado del servicio"
            },
            legal: {
                heading: "Legal",
                link1: "TÃ©rminos de servicio",
                link2: "PolÃ­tica de privacidad",
                link3: "PolÃ­tica de cookies",
                link4: "Aviso legal"
            },
            copyright: "Â© 2025 BestWin. Todos los derechos reservados.",
            status: "Servicio activo",
            disclaimer: {
                title: "Aviso importante:",
                text: "Las predicciones deportivas son estimaciones basadas en anÃ¡lisis estadÃ­sticos y machine learning. No garantizamos resultados y recomendamos usar esta informaciÃ³n de manera responsable. El juego responsable es fundamental."
            }
        }
    }
};

// Current language state
let currentLanguage = 'en';

// Initialize i18n system
function initI18n() {
    // Get saved language from localStorage or use default
    const savedLang = localStorage.getItem('preferredLanguage');
    if (savedLang && translations[savedLang]) {
        currentLanguage = savedLang;
    }
    
    // Apply translations
    applyTranslations(currentLanguage);
    
    // Setup language switcher
    setupLanguageSwitcher();
}

// Apply translations to the page
function applyTranslations(lang) {
    currentLanguage = lang;
    
    // Update HTML lang attribute
    document.documentElement.lang = lang;
    
    // Update page title and meta
    document.title = translations[lang].meta.title;
    const metaDesc = document.querySelector('meta[name="description"]');
    if (metaDesc) {
        metaDesc.content = translations[lang].meta.description;
    }
    
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = getNestedTranslation(translations[lang], key);
        
        if (translation) {
            element.textContent = translation;
        }
    });
    
    // Update language indicator
    const currentLangEl = document.getElementById('currentLang');
    const footerLangEl = document.getElementById('footerLang');
    
    if (currentLangEl) {
        currentLangEl.textContent = lang === 'en' ? 'EN' : 'ES';
    }
    
    if (footerLangEl) {
        footerLangEl.textContent = lang === 'en' ? 'ðŸ‡ºðŸ‡¸ English' : 'ðŸ‡ªðŸ‡¸ EspaÃ±ol';
    }
    
    // Save preference
    localStorage.setItem('preferredLanguage', lang);
    
    // Announce language change to screen readers
    announceToScreenReader(`Language changed to ${lang === 'en' ? 'English' : 'Spanish'}`);
}

// Get nested translation value
function getNestedTranslation(obj, path) {
    return path.split('.').reduce((current, key) => current?.[key], obj);
}

// Setup language switcher functionality
function setupLanguageSwitcher() {
    const langToggle = document.getElementById('langToggle');
    const langMenu = document.getElementById('langMenu');
    const langOptions = document.querySelectorAll('.lang-option');
    
    if (!langToggle || !langMenu) return;
    
    // Toggle menu
    langToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        const isExpanded = langToggle.getAttribute('aria-expanded') === 'true';
        langToggle.setAttribute('aria-expanded', !isExpanded);
        langMenu.setAttribute('aria-hidden', isExpanded);
        langMenu.classList.toggle('active');
        
        // Focus first option when opening
        if (!isExpanded) {
            langOptions[0]?.focus();
        }
    });
    
    // Language option selection
    langOptions.forEach(option => {
        option.addEventListener('click', () => {
            const lang = option.getAttribute('data-lang');
            applyTranslations(lang);
            langMenu.classList.remove('active');
            langToggle.setAttribute('aria-expanded', 'false');
            langMenu.setAttribute('aria-hidden', 'true');
            langToggle.focus();
        });
        
        // Keyboard navigation
        option.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                option.click();
            }
        });
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
        if (!langToggle.contains(e.target) && !langMenu.contains(e.target)) {
            langMenu.classList.remove('active');
            langToggle.setAttribute('aria-expanded', 'false');
            langMenu.setAttribute('aria-hidden', 'true');
        }
    });
    
    // Keyboard navigation for menu
    langToggle.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            langMenu.classList.remove('active');
            langToggle.setAttribute('aria-expanded', 'false');
            langMenu.setAttribute('aria-hidden', 'true');
        }
    });
}

// ==========================================
// ACCESSIBILITY (a11y) UTILITIES
// ==========================================

// Screen reader announcements
function announceToScreenReader(message) {
    const announcement = document.createElement('div');
    announcement.setAttribute('role', 'status');
    announcement.setAttribute('aria-live', 'polite');
    announcement.setAttribute('aria-atomic', 'true');
    announcement.className = 'sr-only';
    announcement.textContent = message;
    
    document.body.appendChild(announcement);
    
    setTimeout(() => {
        document.body.removeChild(announcement);
    }, 1000);
}

// Focus trap for modals/menus
function trapFocus(element) {
    const focusableElements = element.querySelectorAll(
        'a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'
    );
    
    if (focusableElements.length === 0) return;
    
    const firstElement = focusableElements[0];
    const lastElement = focusableElements[focusableElements.length - 1];
    
    element.addEventListener('keydown', (e) => {
        if (e.key !== 'Tab') return;
        
        if (e.shiftKey) {
            if (document.activeElement === firstElement) {
                e.preventDefault();
                lastElement.focus();
            }
        } else {
            if (document.activeElement === lastElement) {
                e.preventDefault();
                firstElement.focus();
            }
        }
    });
}

// Enhanced keyboard navigation
function setupKeyboardNavigation() {
    // Skip to main content link
    const skipLink = document.querySelector('.skip-link');
    if (skipLink) {
        skipLink.addEventListener('click', (e) => {
            e.preventDefault();
            const mainContent = document.getElementById('main-content');
            if (mainContent) {
                mainContent.setAttribute('tabindex', '-1');
                mainContent.focus();
                mainContent.removeAttribute('tabindex');
            }
        });
    }
    
    // Add keyboard support for video frames
    const videoFrames = document.querySelectorAll('.video-frame[role="button"]');
    videoFrames.forEach(frame => {
        frame.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                frame.click();
            }
        });
    });
    
    // Enhance button accessibility
    document.querySelectorAll('button:not([aria-label])').forEach(button => {
        const text = button.textContent.trim();
        if (text) {
            button.setAttribute('aria-label', text);
        }
    });
}

// ==========================================
// ORIGINAL FUNCTIONALITY
// ==========================================

// DOM Content Loaded
document.addEventListener('DOMContentLoaded', function() {
    // Initialize i18n first
    initI18n();
    
    // Initialize accessibility features
    setupKeyboardNavigation();
    
    // Original animations and interactions
    initAnimations();
    initScrollEffects();
    initInteractiveElements();
});

// Animation on scroll
function initAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
                obs.unobserve(entry.target);
            }
        });
    }, observerOptions);

    // Add animation classes
    const sections = document.querySelectorAll('.benefits-section .benefit-card');
    sections.forEach((section, index) => {
        section.classList.add('fade-in');
        section.style.animationDelay = `${index * 0.1}s`;
    });

    const steps = document.querySelectorAll('.step');
    steps.forEach((step, index) => {
        step.classList.add('fade-in');
        step.style.animationDelay = `${index * 0.2}s`;
    });

    // Observe all animation elements
    const animationElements = document.querySelectorAll('.fade-in, .slide-in-left, .slide-in-right');
    animationElements.forEach(el => observer.observe(el));
}

// Scroll effects
function initScrollEffects() {
    let ticking = false;

    function updateScrollEffects() {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;

        // Parallax effect for hero background
        const heroBackground = document.querySelector('.hero-pattern');
        if (heroBackground) {
            heroBackground.style.transform = `translateY(${rate}px)`;
        }

        // Floating elements animation
        const floating1 = document.querySelector('.floating-1');
        const floating2 = document.querySelector('.floating-2');
        
        if (floating1) {
            floating1.style.transform = `translateY(${Math.sin(scrolled * 0.01) * 10 - 10}px)`;
        }
        
        if (floating2) {
            floating2.style.transform = `translateY(${Math.cos(scrolled * 0.008) * 10 + 10}px)`;
        }

        ticking = false;
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(updateScrollEffects);
            ticking = true;
        }
    }

    window.addEventListener('scroll', requestTick);
}

// Interactive elements
function initInteractiveElements() {
    // Button hover effects
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(button => {
        button.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-2px)';
        });

        button.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });

        button.addEventListener('mousedown', function() {
            this.style.transform = 'translateY(0) scale(0.95)';
        });

        button.addEventListener('mouseup', function() {
            this.style.transform = 'translateY(-2px) scale(1)';
        });
    });

    // Card hover effects
    const cards = document.querySelectorAll('.benefit-card, .mobile-screenshot, .web-screenshot');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-5px)';
        });

        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });

    // Step icon hover effects
    const stepIcons = document.querySelectorAll('.step-icon');
    stepIcons.forEach(icon => {
        const step = icon.closest('.step');
        if (step) {
            step.addEventListener('mouseenter', function() {
                icon.style.transform = 'scale(1.1)';
            });

            step.addEventListener('mouseleave', function() {
                icon.style.transform = 'scale(1)';
            });
        }
    });

    // Demo button click effect
    const demoButton = document.querySelector('.demo-button');
    if (demoButton) {
        demoButton.addEventListener('click', function() {
            const ripple = document.createElement('span');
            ripple.classList.add('ripple');
            this.appendChild(ripple);

            setTimeout(() => {
                ripple.remove();
            }, 600);

            announceToScreenReader('Demo video opened');
        });
    }

    // Video frame interaction
    const videoFrames = document.querySelectorAll('.video-frame');
    videoFrames.forEach(frame => {
        frame.addEventListener('click', function() {
            const playButton = this.querySelector('.play-button');
            if (playButton) {
                playButton.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    playButton.style.transform = 'scale(1)';
                }, 150);
            }
            announceToScreenReader('Video demo started');
        });
    });

    // Smooth scrolling for anchor links
    const anchorLinks = document.querySelectorAll('a[href^="#"]');
    anchorLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            const href = this.getAttribute('href');
            if (href === '#' || href === '#main-content') {
                // Skip link or empty anchor, let default behavior handle it
                return;
            }
            
            e.preventDefault();
            const targetId = href.substring(1);
            const targetElement = document.getElementById(targetId);
            
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
                
                // Set focus for accessibility
                targetElement.setAttribute('tabindex', '-1');
                targetElement.focus();
                targetElement.removeAttribute('tabindex');
            }
        });
    });

    // Hero stats counter animation
    animateCounters();
}

// Counter animation for hero stats
function animateCounters() {
    const counters = [
        { element: document.querySelectorAll('.stat-number')[1], target: 50, suffix: 'K+' },
        { element: document.querySelectorAll('.stat-number')[2], target: 24, suffix: '/7' }
    ];

    const observerOptions = {
        threshold: 0.5
    };

    const counterObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const statsSection = entry.target.closest('.hero-stats');
                if (statsSection) {
                    animateStatsCounters(counters);
                    counterObserver.unobserve(entry.target);
                }
            }
        });
    }, observerOptions);

    const heroStats = document.querySelector('.hero-stats');
    if (heroStats) {
        counterObserver.observe(heroStats);
    }
}

function animateStatsCounters(counters) {
    counters.forEach((counter, index) => {
        if (!counter.element) return;

        let current = 0;
        const increment = counter.target / 50;
        const timer = setInterval(() => {
            current += increment;
            if (current >= counter.target) {
                current = counter.target;
                clearInterval(timer);
            }
            
            if (counter.suffix === '%') {
                counter.element.textContent = Math.floor(current) + counter.suffix;
            } else if (counter.suffix === 'K+') {
                counter.element.textContent = Math.floor(current) + counter.suffix;
            } else {
                counter.element.textContent = Math.floor(current) + counter.suffix;
            }
        }, 50 + (index * 20));
    });
}

// Utility function to add ripple effect to buttons
function addRipple(event) {
    const button = event.currentTarget;
    const ripple = document.createElement('span');
    const rect = button.getBoundingClientRect();
    const size = Math.max(rect.width, rect.height);
    const x = event.clientX - rect.left - size / 2;
    const y = event.clientY - rect.top - size / 2;
    
    ripple.style.width = ripple.style.height = size + 'px';
    ripple.style.left = x + 'px';
    ripple.style.top = y + 'px';
    ripple.classList.add('ripple');
    
    button.appendChild(ripple);
    
    setTimeout(() => {
        ripple.remove();
    }, 600);
}

// Add ripple effect CSS
const rippleCSS = `
.ripple {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.6);
    transform: scale(0);
    animation: ripple-animation 0.6s linear;
    pointer-events: none;
}

@keyframes ripple-animation {
    to {
        transform: scale(4);
        opacity: 0;
    }
}

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Skip to main content link */
.skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: #10b981;
    color: white;
    padding: 8px 16px;
    text-decoration: none;
    border-radius: 0 0 4px 0;
    z-index: 100;
    transition: top 0.3s;
}

.skip-link:focus {
    top: 0;
}

/* Language switcher styles */
.language-switcher {
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 1000;
}

.lang-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 0.5rem;
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
}

.lang-button:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

.lang-button:focus {
    outline: 2px solid #10b981;
    outline-offset: 2px;
}

.lang-menu {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: 0.5rem;
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
    overflow: hidden;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s ease;
}

.lang-menu.active {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.lang-option {
    display: block;
    width: 100%;
    padding: 0.75rem 1rem;
    text-align: left;
    background: transparent;
    border: none;
    cursor: pointer;
    transition: background 0.2s ease;
    white-space: nowrap;
    color: #1e293b;
}

.lang-option:hover,
.lang-option:focus {
    background: #f1f5f9;
}

.lang-option:focus {
    outline: 2px solid #10b981;
    outline-offset: -2px;
}
`;

// Inject styles
const style = document.createElement('style');
style.textContent = rippleCSS;
document.head.appendChild(style);

// Add click handlers for buttons with ripple effect
document.addEventListener('DOMContentLoaded', function() {
    const buttons = document.querySelectorAll('.btn');
    buttons.forEach(button => {
        button.addEventListener('click', addRipple);
    });
});

// Lazy loading for images
function initLazyLoading() {
    const images = document.querySelectorAll('img[data-src]');
    
    const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                
                img.style.opacity = '0';
                img.style.transition = 'opacity 0.3s ease';
                
                img.onload = () => {
                    img.style.opacity = '1';
                };

                img.src = img.dataset.src;
                observer.unobserve(img);
            }
        });
    });

    images.forEach(img => imageObserver.observe(img));
}

// Initialize lazy loading
document.addEventListener('DOMContentLoaded', initLazyLoading);

// Reduced motion support
if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    document.documentElement.style.setProperty('--animation-duration', '0.01ms');
}

// Export functions for potential external use
window.LandingPage = {
    initAnimations,
    initScrollEffects,
    initInteractiveElements,
    applyTranslations,
    announceToScreenReader
};
